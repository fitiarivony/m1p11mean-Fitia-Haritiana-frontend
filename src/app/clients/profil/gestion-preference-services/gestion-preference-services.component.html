<p-toast></p-toast>
<div class="row">
  <div class="col-lg-2 col-1"></div>
  <div class="col-lg-8 col-10 row">
    <ng-container *ngIf="editing">
      <div style="width: 25%">
        <div class="mb-3">
          <label for="" class="form-label">Nom</label>
          <select class="form-select" name="" id="" [(ngModel)]="idPersonne">
            <option *ngFor="let item of employeName" [value]="item._id">
              {{ item.nom_service }}
            </option>
          </select>
        </div>
        <div class="d-grid gap-2">
          <button
            type="button"
            name=""
            id=""
            class="btn btn-primary"
            (click)="add()"
          >
            Ajouter
          </button>
        </div>
      </div>
    </ng-container>
    <div style="width: 75%" class="table-responsive">
      <p-table [value]="employeName"  styleClass="p-datatable-gridlines mb-3"
      >
      <ng-template pTemplate="header" >
          <h1>
            Mes services préférés
          </h1>
          <tr>
            <th>Noms</th>
            <th *ngIf="editing"></th>
          </tr>
        </ng-template>

          <ng-template pTemplate="body"  let-item>
            <tr *ngIf="favoriteEmp.includes(item._id)" class="table-primary">
              <td scope="row">{{ item.nom_service }}</td>
              <td *ngIf="editing"><button class="btn btn-danger" (click)="delete(item._id)">Supprimer</button></td>
            </tr>
          </ng-template>

      </p-table>
    </div>
    <button *ngIf="!editing" class="btn btn-success" (click)="changeEditingStatus()">Modifier</button>
    <button *ngIf="editing" class="btn btn-success" (click)="submit()">Valider</button>
  </div>
  <div class="col-lg-2 col-1"></div>
</div>
